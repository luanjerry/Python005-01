学习笔记


这是一直想学的内容

关于中间件 ，

1，双写 ， 耦合度最高， 延迟最小；
2，消息队列，并行1万 ，打过来，，限速为1000 ， 写了消息队列，就认为持久化完成，及时返回持久化完成。

3，binlog 方式，，有阻塞的风险，， 最安全，也最慢，缓存的是全量数据，，

三种方式，看哪个架构 与 你的 业务最好 ，，都有数据不一致的风险  。

1，针对缓存穿透，业界，多用redis  存 null，但是超时 要短时间。 避免redis 内存爆。 布隆过滤器，就是有误杀

2， 缓存并发，就是一个key ，正好，



消息队列
1，异步处理，这里可以是一个消息，解开，分为4个消息，分别分给4个不同的系统去处理
2，流量控制，在秒杀系统中，用这个。用令牌数量控制
3，服务解耦，，大家靠消息

队列模型，
发布--订阅模型

